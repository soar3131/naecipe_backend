# CLAUDE.md

ì´ íŒŒì¼ì€ Claude Code (claude.ai/code)ê°€ ì´ ì €ì¥ì†Œì—ì„œ ì‘ì—…í•  ë•Œ ì°¸ê³ í•˜ëŠ” ê°€ì´ë“œì…ë‹ˆë‹¤.

## ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì–¸ì–´

**ëª¨ë“  ì†Œí†µì€ í•œêµ­ì–´ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.** ì½”ë“œ ì£¼ì„, ì»¤ë°‹ ë©”ì‹œì§€, ë¬¸ì„œ ì‘ì„± ì‹œ í•œêµ­ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ë‹¨, ì½”ë“œ ë‚´ ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª… ë“±ì€ ì˜ë¬¸ì„ ìœ ì§€í•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ê°œìš”

**ë‚´ì‹œí”¼(Naecipe) ë°±ì—”ë“œ** - AI ê¸°ë°˜ ë§ì¶¤í˜• ë ˆì‹œí”¼ ë³´ì • ì„œë¹„ìŠ¤ì˜ **ë°±ì—”ë“œ ì „ìš©** ì €ì¥ì†Œì…ë‹ˆë‹¤.

> **ì¤‘ìš”**: ì´ ì €ì¥ì†ŒëŠ” **ë°±ì—”ë“œ(ì„œë²„) ì½”ë“œë§Œ** ê´€ë¦¬í•©ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œ, ëª¨ë°”ì¼ ì•±, ì¸í”„ë¼ ì½”ë“œëŠ” ë³„ë„ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.

- **ì—­í• **: REST API, ë„ë©”ì¸ ëª¨ë“ˆ, ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬, AI ì—ì´ì „íŠ¸ ë“± ì„œë²„ ì‚¬ì´ë“œ ë¡œì§
- **Core Loop**: ê²€ìƒ‰ â†’ ë ˆì‹œí”¼ ìƒì„¸ â†’ ì¡°ë¦¬/ì‚¬ìš© â†’ í”¼ë“œë°± ì…ë ¥ â†’ AI ë³´ì • â†’ ë³´ì • ë ˆì‹œí”¼ ì €ì¥
- **ì•„í‚¤í…ì²˜**: Python FastAPI ê¸°ë°˜ ëª¨ë“ˆëŸ¬ ëª¨ë†€ë¦¬ìŠ¤ (v2.0, 2025.12.10)
- **ì›Œí¬í”Œë¡œìš°**: spec-kit ëª…ì„¸ ê¸°ë°˜ ê°œë°œ (specify â†’ clarify â†’ plan â†’ tasks â†’ implement)

## Spec-Kit ì›Œí¬í”Œë¡œìš° ëª…ë ¹ì–´

> **âš ï¸ ì¤‘ìš”**: ìŠ¤í™ ìƒì„± ì „ **ë°˜ë“œì‹œ** `SPECKIT_TODO.md`ë¥¼ ë¨¼ì € ì°¸ì¡°í•˜ì„¸ìš”. ì´ ë¬¸ì„œì—ëŠ” ì „ì²´ ìŠ¤í™ ëª©ë¡(SPEC-000~021), ë„ë©”ì¸ ìš©ì–´ ì •ì˜, ERD, ë¹„ë™ê¸° ì´ë²¤íŠ¸, ìºì‹œ ì „ëµ, ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ë“±ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

`.claude/commands/`ì— ì •ì˜ëœ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ë“¤:

| ëª…ë ¹ì–´ | ìš©ë„ |
|--------|------|
| `/speckit.specify <ì„¤ëª…>` | ìì—°ì–´ ì„¤ëª…ìœ¼ë¡œ ê¸°ëŠ¥ ëª…ì„¸ ìƒì„± |
| `/speckit.clarify` | ëª…ì„¸ì˜ ëª¨í˜¸í•œ ë¶€ë¶„ ì‹ë³„ ë° í•´ê²° (ìµœëŒ€ 5ê°œ ì§ˆë¬¸) |
| `/speckit.plan` | ê¸°ìˆ  ê³„íš ìƒì„± (ë¦¬ì„œì¹˜, ë°ì´í„° ëª¨ë¸, ì»¨íŠ¸ë™íŠ¸) |
| `/speckit.tasks` | ê³„íšì„ ì˜ì¡´ì„± ìˆœì„œë¡œ ì •ë ¬ëœ ì‹¤í–‰ ê°€ëŠ¥í•œ íƒœìŠ¤í¬ë¡œ ë¶„í•´ |
| `/speckit.checklist <ë„ë©”ì¸>` | ìš”êµ¬ì‚¬í•­ í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„± (UX, API, ë³´ì•ˆ ë“±) |
| `/speckit.analyze` | êµ¬í˜„ ì „ ì•„í‹°íŒ©íŠ¸ ê°„ ì¼ê´€ì„± ë¶„ì„ |
| `/speckit.implement` | tasks.mdì˜ íƒœìŠ¤í¬ ì‹¤í–‰ |

**ì¼ë°˜ì ì¸ íë¦„**: specify â†’ clarify â†’ plan â†’ checklist â†’ tasks â†’ analyze â†’ implement

## ê¸°ëŠ¥ ë””ë ‰í† ë¦¬ êµ¬ì¡°

ê° ê¸°ëŠ¥ì€ ë¸Œëœì¹˜ì™€ `specs/` ë‚´ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```
specs/[###-feature-name]/
â”œâ”€â”€ spec.md           # ê¸°ëŠ¥ ëª…ì„¸ (ë¬´ì—‡ì„ & ì™œ)
â”œâ”€â”€ plan.md           # ê¸°ìˆ  ê³„íš (ì–´ë–»ê²Œ)
â”œâ”€â”€ research.md       # ê¸°ìˆ  ê²°ì • ë° ê·¼ê±°
â”œâ”€â”€ data-model.md     # ì—”í‹°í‹° ë° ê´€ê³„
â”œâ”€â”€ quickstart.md     # í†µí•© ì‹œë‚˜ë¦¬ì˜¤
â”œâ”€â”€ tasks.md          # ì‹¤í–‰ ê°€ëŠ¥í•œ íƒœìŠ¤í¬ ëª©ë¡
â”œâ”€â”€ checklists/       # ìš”êµ¬ì‚¬í•­ í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
â””â”€â”€ contracts/        # API ëª…ì„¸ (OpenAPI/GraphQL)
```

## Constitution (í”„ë¡œì íŠ¸ í—Œë²•)

**ìœ„ì¹˜**: `.specify/memory/constitution.md`

ëª¨ë“  ê°œë°œ í™œë™ì€ Constitutionì— ì •ì˜ëœ 7ê°€ì§€ í•µì‹¬ ì›ì¹™ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤:

| ì›ì¹™ | í•µì‹¬ ë‚´ìš© |
|------|----------|
| I. API-First | OpenAPI ëª…ì„¸ ë¨¼ì €, êµ¬í˜„ ë‚˜ì¤‘ |
| II. Modular Monolith | ë„ë©”ì¸ ëª¨ë“ˆ ë¶„ë¦¬, ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬ (ë‹¨ì¼ PostgreSQL) |
| III. TDD | Contract/Integration í…ŒìŠ¤íŠ¸ í•„ìˆ˜ |
| IV. Async Task | BackgroundTasks ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬ |
| V. Security | OWASP Top 10 ëŒ€ì‘, Pydantic ê²€ì¦ |
| VI. Observability | êµ¬ì¡°í™” ë¡œê¹… (CloudWatch), ë©”íŠ¸ë¦­ |
| VII. Simplicity | YAGNI, ìµœì†Œ ì¶”ìƒí™” |

## ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| Backend | Python 3.11+, FastAPI |
| Database | PostgreSQL 15+ (pgvector, ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬), Redis 7+ |
| Async Processing | FastAPI BackgroundTasks (í•„ìš” ì‹œ SQS) |
| AI Agent | LangGraph + OpenAI/Anthropic |
| Infrastructure | AWS ECS Fargate, CloudWatch |

## í”„ë¡œì íŠ¸ êµ¬ì¡° (ëª¨ë“ˆëŸ¬ ëª¨ë†€ë¦¬ìŠ¤ v2.0)

```
app/                           # ë‹¨ì¼ FastAPI ì•±
â”œâ”€â”€ core/                      # ê³µìœ  ì„¤ì •, ë³´ì•ˆ, ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ security.py
â”‚   â””â”€â”€ dependencies.py
â”œâ”€â”€ infra/                     # ì¸í”„ë¼ ë ˆì´ì–´ (DB, Redis, S3)
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ redis.py
â”‚   â””â”€â”€ s3.py
â”œâ”€â”€ recipes/                   # ë ˆì‹œí”¼ ë„ë©”ì¸ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ services.py
â”‚   â””â”€â”€ router.py
â”œâ”€â”€ users/                     # ì‚¬ìš©ì ë„ë©”ì¸ ëª¨ë“ˆ
â”œâ”€â”€ cookbooks/                 # ë ˆì‹œí”¼ë¶/í”¼ë“œë°± ëª¨ë“ˆ
â”œâ”€â”€ ai_agent/                  # AI ë³´ì • ëª¨ë“ˆ
â”œâ”€â”€ knowledge/                 # ì„ë² ë”©/ê²€ìƒ‰ ëª¨ë“ˆ
â”œâ”€â”€ notifications/             # ì•Œë¦¼ ëª¨ë“ˆ
â”œâ”€â”€ analytics/                 # ë¶„ì„ ëª¨ë“ˆ
â”œâ”€â”€ ingestion/                 # í¬ë¡¤ë§ ìˆ˜ì‹  ëª¨ë“ˆ
â””â”€â”€ main.py                    # FastAPI ì•± ì§„ì…ì 

shared/
â”œâ”€â”€ schemas/    # ê³µí†µ Pydantic ëª¨ë¸
â””â”€â”€ utils/      # ê³µí†µ ìœ í‹¸ë¦¬í‹°
```

## í•µì‹¬ ì›ì¹™ (Spec-Kit)

- **SPECKIT_TODO.md í•„ìˆ˜ ì°¸ì¡°**: ìŠ¤í™ ìƒì„± ì „ `SPECKIT_TODO.md`ë¥¼ ì½ì–´ í•´ë‹¹ SPECì˜ ìš”êµ¬ì‚¬í•­, ì˜ì¡´ì„±, DB í…Œì´ë¸”, API ëª…ì„¸ë¥¼ í™•ì¸
- **êµ¬í˜„ ì „ ëª…ì„¸ ì‘ì„±**: ì½”ë“œê°€ ì•„ë‹Œ `/speckit.specify`ë¡œ ì‹œì‘
- **ìœ ì € ìŠ¤í† ë¦¬ëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**: ê° ìŠ¤í† ë¦¬ëŠ” MVP ì¦ë¶„ìœ¼ë¡œ ë…ë¦½ êµ¬í˜„, í…ŒìŠ¤íŠ¸, ë°°í¬ ê°€ëŠ¥
- **íƒœìŠ¤í¬ëŠ” ì—„ê²©í•œ í˜•ì‹ ì¤€ìˆ˜**: `- [ ] T### [P?] [US#?] íŒŒì¼ ê²½ë¡œì™€ í•¨ê»˜ ì„¤ëª…`
  - `[P]` = ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥ (ë‹¤ë¥¸ íŒŒì¼, ì˜ì¡´ì„± ì—†ìŒ)
  - `[US#]` = ëª…ì„¸ì˜ ìœ ì € ìŠ¤í† ë¦¬ì™€ ë§¤í•‘
- **ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” êµ¬í˜„ì´ ì•„ë‹Œ ìš”êµ¬ì‚¬í•­ í’ˆì§ˆ í…ŒìŠ¤íŠ¸**: ëª…ì„¸ê°€ ì™„ì „í•˜ê³ , ëª…í™•í•˜ê³ , ì¼ê´€ì ì¸ì§€ ê²€ì¦

## íƒœìŠ¤í¬ ì‹¤í–‰

`/speckit.implement` ì‹¤í–‰ ì‹œ:
1. Setup ë‹¨ê³„ ë¨¼ì € (í”„ë¡œì íŠ¸ êµ¬ì¡°, ì˜ì¡´ì„±)
2. Foundational ë‹¨ê³„ëŠ” ëª¨ë“  ìœ ì € ìŠ¤í† ë¦¬ë¥¼ ë¸”ë¡œí‚¹
3. ìœ ì € ìŠ¤í† ë¦¬ëŠ” ìš°ì„ ìˆœìœ„ ìˆœì„œë¡œ ì‹¤í–‰ (P1, P2, P3...)
4. ì™„ë£Œëœ íƒœìŠ¤í¬ëŠ” tasks.mdì—ì„œ `[X]`ë¡œ í‘œì‹œ
5. Polish ë‹¨ê³„ëŠ” ë§ˆì§€ë§‰ (ê³µí†µ ê´€ì‹¬ì‚¬)
6. **êµ¬í˜„ ì™„ë£Œ í›„ ìë™ ì»¤ë°‹**: `/speckit.implement` ì¢…ë£Œ ì‹œ ë³€ê²½ì‚¬í•­ì„ git commit

## Git Commit ê·œì¹™

`/speckit.implement` ì™„ë£Œ í›„ **ë°˜ë“œì‹œ** git commitì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```bash
# ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹
feat(###-feature-name): ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ

- ì™„ë£Œëœ ì£¼ìš” íƒœìŠ¤í¬ ìš”ì•½
- ìƒì„±ëœ íŒŒì¼/ë””ë ‰í† ë¦¬ ìš”ì•½

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>
```

**ì˜ˆì‹œ**:
```bash
feat(001-project-setup): ë°±ì—”ë“œ í”„ë¡œì íŠ¸ ê¸°ë°˜ êµ¬ì¡° ì„¤ì •

- ëª¨ë“ˆëŸ¬ ëª¨ë†€ë¦¬ìŠ¤ êµ¬ì¡° ìƒì„± (app/ + 8ê°œ ë„ë©”ì¸ ëª¨ë“ˆ)
- Docker Compose ì¸í”„ë¼ ì„¤ì •
- shared íŒ¨í‚¤ì§€ (schemas, utils)
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
- GitHub Actions CI ì›Œí¬í”Œë¡œìš°

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>
```

## Active Technologies
- Python 3.11+ + FastAPI 0.100+, SQLAlchemy 2.0+, Pydantic 2.0+ (006-similar-recipe-recommendation)
- PostgreSQL 15+ (ë‹¨ì¼ DB, ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬), Redis 7+ (ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤) (006-similar-recipe-recommendation)
- PostgreSQL 15+ (ë‹¨ì¼ DB, cookbooks ìŠ¤í‚¤ë§ˆ) (007-cookbook-basic-crud)

**Core Stack (ëª¨ë“ˆëŸ¬ ëª¨ë†€ë¦¬ìŠ¤)**:
- Python 3.11+ + FastAPI 0.100+
- SQLAlchemy 2.0+ + Pydantic 2.0+ + Alembic
- PostgreSQL 15+ (ë‹¨ì¼ DB, ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬, pgvector)
- Redis 7+ (ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤, ì„¸ì…˜/ìºì‹œ)

**ëª¨ë“ˆë³„ ì¶”ê°€ ê¸°ìˆ **:
- users: python-jose, passlib[bcrypt], httpx (OAuth)
- recipes: redis[hiredis] (ìºì‹±)
- ai_agent: LangGraph (ì˜ˆì •)

## Recent Changes
- 006-modular-monolith-refactoring: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ â†’ ëª¨ë“ˆëŸ¬ ëª¨ë†€ë¦¬ìŠ¤ ì „í™˜
  - 9ê°œ ë…ë¦½ ì„œë¹„ìŠ¤ â†’ ë‹¨ì¼ FastAPI ì•± (8ê°œ ë„ë©”ì¸ ëª¨ë“ˆ)
  - Kafka/Zookeeper ì œê±° â†’ FastAPI BackgroundTasks
  - ë¶„ë¦¬ DB â†’ ë‹¨ì¼ PostgreSQL (ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬)
